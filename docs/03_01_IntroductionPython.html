<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Microeconometrics: Methods and Applications - 11&nbsp; An Introduction to Python</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03_02_Chapter2Python.html" rel="next">
<link href="./03_00_FollowingPython.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-title">An Introduction to Python</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Microeconometrics: Methods and Applications</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/damiancclarke" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="" title="Download" id="sidebar-tool-dropdown-0" class="sidebar-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi bi-download"></i></a>
    <ul class="dropdown-menu" aria-labelledby="sidebar-tool-dropdown-0">
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="./Microeconometrics--Methods-and-Applications.pdf">
            <i class="bi bi-bi-file-pdf pe-1"></i>
          Download PDF
          </a>
        </li>
        <li>
          <a class="dropdown-item sidebar-tools-main-item" href="./Microeconometrics--Methods-and-Applications.epub">
            <i class="bi bi-bi-journal pe-1"></i>
          Download ePub
          </a>
        </li>
    </ul>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./index.html" class="sidebar-item-text sidebar-link">Introduction</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00_01_About.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">About this book</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00_02_Download.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">How to download the required data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./01_00_FollowingR.html" class="sidebar-item-text sidebar-link">Following Along with R</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_01_IntroductionR.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">An Introduction to R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_02_Chapter2R.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_03_Chapter3R.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 3</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_04_Chapter4R.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 4</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./02_00_FollowingStata.html" class="sidebar-item-text sidebar-link">Following Along with Stata</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_01_IntroductionStata.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">An Introduction to Stata</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_02_Chapter2Stata.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_03_Chapter3Stata.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 3</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_04_Chapter4Stata.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 4</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./03_00_FollowingPython.html" class="sidebar-item-text sidebar-link">Following Along with Python</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_01_IntroductionPython.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">An Introduction to Python</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_02_Chapter2Python.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_03_Chapter3Python.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 3</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_04_Chapter4Python.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Chapter 4</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_references.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#preliminaries" id="toc-preliminaries" class="nav-link active" data-scroll-target="#preliminaries">Preliminaries</a></li>
  <li><a href="#an-introduction-to-language-and-data-types" id="toc-an-introduction-to-language-and-data-types" class="nav-link" data-scroll-target="#an-introduction-to-language-and-data-types">An introduction to language and data types</a>
  <ul class="collapse">
  <li><a href="#loops-and-control-flow" id="toc-loops-and-control-flow" class="nav-link" data-scroll-target="#loops-and-control-flow">Loops and Control Flow</a>
  <ul class="collapse">
  <li><a href="#the-for-loop" id="toc-the-for-loop" class="nav-link" data-scroll-target="#the-for-loop"><strong>1. The <code>for</code> Loop</strong></a></li>
  <li><a href="#the-while-loop" id="toc-the-while-loop" class="nav-link" data-scroll-target="#the-while-loop"><strong>2. The <code>while</code> Loop</strong></a></li>
  <li><a href="#loop-control-mechanisms" id="toc-loop-control-mechanisms" class="nav-link" data-scroll-target="#loop-control-mechanisms"><strong>3. Loop Control Mechanisms</strong></a></li>
  </ul></li>
  <li><a href="#data-types" id="toc-data-types" class="nav-link" data-scroll-target="#data-types">Data Types</a>
  <ul class="collapse">
  <li><a href="#text-string-data" id="toc-text-string-data" class="nav-link" data-scroll-target="#text-string-data">Text (String) Data</a></li>
  <li><a href="#numeric-data" id="toc-numeric-data" class="nav-link" data-scroll-target="#numeric-data">Numeric Data</a></li>
  <li><a href="#tuples-lists-and-arrays" id="toc-tuples-lists-and-arrays" class="nav-link" data-scroll-target="#tuples-lists-and-arrays">Tuples, Lists and Arrays</a></li>
  <li><a href="#dictionaries" id="toc-dictionaries" class="nav-link" data-scroll-target="#dictionaries">Dictionaries</a></li>
  <li><a href="#data-frames" id="toc-data-frames" class="nav-link" data-scroll-target="#data-frames">Data frames</a></li>
  </ul></li>
  <li><a href="#subsetting-multidimensional-elements" id="toc-subsetting-multidimensional-elements" class="nav-link" data-scroll-target="#subsetting-multidimensional-elements">Subsetting Multidimensional Elements</a></li>
  <li><a href="#basic-operations" id="toc-basic-operations" class="nav-link" data-scroll-target="#basic-operations">Basic Operations</a></li>
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions">Functions</a></li>
  <li><a href="#managing-modules" id="toc-managing-modules" class="nav-link" data-scroll-target="#managing-modules">Managing modules</a></li>
  </ul></li>
  <li><a href="#working-with-data" id="toc-working-with-data" class="nav-link" data-scroll-target="#working-with-data">Working with Data</a>
  <ul class="collapse">
  <li><a href="#loading-and-viewing-data" id="toc-loading-and-viewing-data" class="nav-link" data-scroll-target="#loading-and-viewing-data">Loading and viewing data</a></li>
  <li><a href="#tidying-data" id="toc-tidying-data" class="nav-link" data-scroll-target="#tidying-data">Tidying data</a>
  <ul class="collapse">
  <li><a href="#aggregating-data" id="toc-aggregating-data" class="nav-link" data-scroll-target="#aggregating-data">Aggregating Data</a></li>
  <li><a href="#mergingjoining-data" id="toc-mergingjoining-data" class="nav-link" data-scroll-target="#mergingjoining-data">Merging/Joining Data</a></li>
  <li><a href="#filtering-data" id="toc-filtering-data" class="nav-link" data-scroll-target="#filtering-data">Filtering Data</a></li>
  <li><a href="#generating-variables" id="toc-generating-variables" class="nav-link" data-scroll-target="#generating-variables">Generating variables</a></li>
  <li><a href="#reshaping-data" id="toc-reshaping-data" class="nav-link" data-scroll-target="#reshaping-data">Reshaping Data</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#basic-plots" id="toc-basic-plots" class="nav-link" data-scroll-target="#basic-plots">Basic Plots</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-title">An Introduction to Python</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="preliminaries" class="level1">
<h1>Preliminaries</h1>
<p>We will assume that when you are reading this you have downloaded Python and have been able to access Python in some way. This may be via the command line, but most likely we imagine you will have some type of IDE which allows you to see a number of windows including a space for graphical output, a description of the contents of your Python Environment (for example any data you have loaded), potentially a place to write your code in Python, and, most importantly, a “shell”, or Python interface, which looks like the following:</p>
<pre><code>Python 3.8.10 (default, May 26 2023, 14:05:08)
[GCC 9.4.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt;</code></pre>
<p>It may be prefereble to install <code>ipython</code> (details <a href="https://ipython.org/install.html">here</a>) which provides a slightly more interactive version of Python. This is available by default in certain IDEs such as Spyder. The value of working in an <code>ipython</code> shell over a standard <code>python</code> shell is the availability of a number of “<a href="https://ipython.readthedocs.io/en/stable/interactive/magics.html">magic commands</a>” such as simple ways to get help, run files, and so forth. We will delve into this slightly more below, but under the hood, both Python and IPython work with the Python language, and have a very similar feel; for example, see below for an example of the IPython shell compared to Python above.</p>
<pre><code>Python 3.10.12 (main, Jun 11 2023, 05:26:28) [GCC 11.4.0]
Type 'copyright', 'credits' or 'license' for more information
IPython 8.14.0 -- An enhanced Interactive Python. Type '?' for help.

In [1]:</code></pre>
<p>Here, Python code can be entered directly following a prompt which is the <code>&gt;&gt;&gt;</code> symbol at the bottom of the python window above, or <code>In [1]:</code> in the case of IPython. From the moment you open Python you are in a Python session until the moment you close it, and from now on we will understand a session as this time between when we open and close Python. The most simple way to execute code in Python is to simply input commands into your Python prompt. So, for example, you could write the following at to the right of the <code>&gt;&gt;&gt;</code> symbol, and Python will evaluate this code:</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="op">+</span> <span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<pre><code>8</code></pre>
</div>
</div>
<p>As you can see, Python has understood the instruction that you want to add 4 plus 4 and show the result, which is evaluated, and output directly below the code in the Python prompt. Later in this chapter we will properly explain these mathematical operations and the different Python data types. Beyond evaluating such simple mathematical operations, Python has a host of in-built functions which can be invoked at the command line. While we will interact with this in more detail later, a simple example is the following, which you can type in your Python console:</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">sum</span>([<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">4</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>10</code></pre>
</div>
</div>
<p>This function simply sums the list of values provided within it, printing the output (10) below. We will return to discuss functions in more detail a bit later on.</p>
<p>For now you will note that we have simply been typing instructions to Python directly into the command prompt, and Python has been providing us with output. Generally, we will not work this way in an empirical research project, as we will want to develop code over time, and be able to return to Python and replicate code in the future. For this reason, generally we will work in Python scripts, or files named as <code>something.py</code> (where <code>something</code> will be logical name for the file). We will use these scripts to store the commands which we require for particular processes or routines, and can then save them to the disk of our computer before running them in Python. These scripts can be generated in any type of text editor, and then can be run in Python. If you are using IPython, running a script can be done simply using the %run command, by typing <code>%run something.py</code>. This is however a magic command, and so is available in IPython, but not in Python. Similarly, in certain other IDEs there may be other environment-specific ways to run <code>.py</code> files, for example the <code>runfile</code> command which is used in Spyder below:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="sourcePython.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">A Python Script and Output in Spyder</figcaption><p></p>
</figure>
</div>
<p>You may notice something strange about the code and the output in the Python console in the image above. The Python script has 7 distinct lines of text, but the console only produces two lines of output. The reason for this is because we have included comments, or messages for human eyes, but not for the computer to interpret. Any time that the <code>#</code> character is included in code, Python understands that this is a comment, and hence is ignored in executing the code. So, for example, when we write:</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Hello World!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hello World!</code></pre>
</div>
</div>
<p>in our code, the Python console correctly echoes <em>Hello World!</em> back at us. However, if we enter precis ely the same code, but begin the line with a comment symbol, Python will not do anything given that it interprets everything to the right of <code>#</code> as plain text which should be ignored:</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># print("Hello World")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Similarly, comments can be used within lines:</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Hello World"</span>) <span class="co"># To the left of # code, all to the right, plain text</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hello World</code></pre>
</div>
</div>
<p>As you can, this lines has executed the instruction to the left of <code>#</code> but ignores all instructions to the right. It is good practice to comment code extensively, both for sharing code with other users, but also for sharing code with yourself in the future, where you may not remember precisely what you were thinking when you originally wrote your code! If you wish to include multiple line comments, you can also do this by enclosing various lines in three inverted commas. For example, any lines contained between an opening ““” and a closing ““” will be assumed to be one long comment. You can confirm this for yourself in a Python script.</p>
<p>One final thing to note from this Python script is that the output from the final line of code (<code>4+4</code>) was not printed in the console. In Python, when you type <code>4+4</code> at the command line, you get immediate output because Python automatically sends output to the console. However, when you write <code>4+4</code> in a script and then run the script, there is no automatic output to the console. However, it is important to note that the calculation <em>is</em> conducted. You can confirm this yourself if you’d like by explicitly requesting that Python provide this output when it runs the code, replacing <code>4+4</code> in the code with <code>print(4+4)</code>.</p>
</section>
<section id="an-introduction-to-language-and-data-types" class="level1">
<h1>An introduction to language and data types</h1>
<p>Until now we have executed some code in Python and seen some specific functions which print output, but we have never stored any results for later use within our code. Generally we <em>will</em> want to store the output of intermediate steps in our code for later use. This can be done in Python using the assignment symbol <code>=</code>. For example, below we store a value as a variable which we define, arbitrarily named <code>x</code>:</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>2</code></pre>
</div>
</div>
<p>The use of <code>=</code> in the assignment must respect <code>name = value</code>. If, instead, we try to assign some variable as <code>value=name</code> an error will occur:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="op">=</span> x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>SyntaxError: cannot assign to literal here. Maybe you meant '==' instead of '='?</code></pre>
<p>This error implies that the code has not been executed, and if we inspect the contents of <code>x</code> we will see that its prior value remains.</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>2</code></pre>
</div>
</div>
<p>These errors tell you that something has gone wrong and Python couldn’t execute your code. Error messages include a brief explanation of what has gone wrong, to help you diagnose and fix your code. Any expected results from your command will not be assigned. At certain times, you may also see warnings which are printed when certain processes are run. These “warnings” that something has occurred that could <em>potentially</em> cause problems, but is not critical for code execution. In these cases, Python will still execute the code and give the result, but warn you that not everything is necessarily in order and this may cause inaccurate results or future problems. At times these messages can be ignored without further issues, but warnings can also be a sign of peril, and so time should be taken to review warnings and understand whether they are problematic.</p>
<section id="loops-and-control-flow" class="level2">
<h2 class="anchored" data-anchor-id="loops-and-control-flow">Loops and Control Flow</h2>
<p><strong>Loops in Python</strong></p>
<p>Looping constructs in programming languages provide a mechanism to execute a set of instructions multiple times, contingent upon certain conditions. Python, renowned for its clarity and efficiency, offers several looping paradigms. Among these, the <strong><code>for</code></strong> and <strong><code>while</code></strong> loops are paramount.</p>
<section id="the-for-loop" class="level3">
<h3 class="anchored" data-anchor-id="the-for-loop"><strong>1. The <code>for</code> Loop</strong></h3>
<p>In Python, the <strong><code>for</code></strong> loop is adept at iterating over sequences, be they lists, tuples, dictionaries, sets, strings, or other iterable objects.</p>
<p><strong>1.1. Iteration Over Data Structures</strong></p>
<p>Consider a dataset of student grades:</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>grades <span class="op">=</span> {<span class="st">"David"</span>: <span class="dv">85</span>, <span class="st">"Victoria"</span>: <span class="dv">90</span>, <span class="st">"Daniel"</span>: <span class="dv">78</span>, <span class="st">"Megan"</span>: <span class="dv">92</span>}</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> student, grade <span class="kw">in</span> grades.items():</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>student<span class="sc">}</span><span class="ss"> received a grade of </span><span class="sc">{</span>grade<span class="sc">}</span><span class="ss">."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>David received a grade of 85.
Victoria received a grade of 90.
Daniel received a grade of 78.
Megan received a grade of 92.</code></pre>
</div>
</div>
<p><strong>1.2. The <code>range()</code> Function</strong></p>
<p>For tasks requiring iteration over a series of numbers, Python’s <strong><code>range()</code></strong> function is invaluable:</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>, <span class="dv">8</span>):</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Processing data point </span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Processing data point 3.
Processing data point 4.
Processing data point 5.
Processing data point 6.
Processing data point 7.</code></pre>
</div>
</div>
</section>
<section id="the-while-loop" class="level3">
<h3 class="anchored" data-anchor-id="the-while-loop"><strong>2. The <code>while</code> Loop</strong></h3>
<p>The <strong><code>while</code></strong> loop offers a means to execute statements as long as a particular condition remains true.</p>
<p>Consider a scenario where we’re approximating the square root of a number using the Babylonian method:</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>number <span class="op">=</span> <span class="dv">49</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>guess <span class="op">=</span> number <span class="op">/</span> <span class="dv">2</span>  <span class="co"># Initial guess</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>difference <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>tolerance <span class="op">=</span> <span class="fl">0.01</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> difference <span class="op">&gt;</span> tolerance:</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    new_guess <span class="op">=</span> <span class="fl">0.5</span> <span class="op">*</span> (guess <span class="op">+</span> number <span class="op">/</span> guess)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    difference <span class="op">=</span> <span class="bu">abs</span>(new_guess <span class="op">-</span> guess)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    guess <span class="op">=</span> new_guess</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Approximated square root: </span><span class="sc">{</span>guess<span class="sc">:.2f}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Approximated square root: 7.00</code></pre>
</div>
</div>
</section>
<section id="loop-control-mechanisms" class="level3">
<h3 class="anchored" data-anchor-id="loop-control-mechanisms"><strong>3. Loop Control Mechanisms</strong></h3>
<p>Python introduces several control statements to influence loop execution:</p>
<ul>
<li><strong>break</strong>: Exits the loop prematurely, proceeding to the next statement.</li>
<li><strong>continue</strong>: Skips the current iteration, moving to the next one.</li>
<li><strong>pass</strong>: A no-op statement, serving as a syntactical placeholder.</li>
</ul>
<p><strong>3.1. Utilizing <code>break</code> in Prime Number Detection</strong></p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>number <span class="op">=</span> <span class="dv">29</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>is_prime <span class="op">=</span> <span class="va">True</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>, <span class="bu">int</span>(number <span class="op">**</span> <span class="fl">0.5</span>) <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> number <span class="op">%</span> i <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>        is_prime <span class="op">=</span> <span class="va">False</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Is </span><span class="sc">{</span>number<span class="sc">}</span><span class="ss"> a prime number? </span><span class="sc">{</span>is_prime<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Is 29 a prime number? True</code></pre>
</div>
</div>
</section>
</section>
<section id="data-types" class="level2">
<h2 class="anchored" data-anchor-id="data-types">Data Types</h2>
<section id="text-string-data" class="level3">
<h3 class="anchored" data-anchor-id="text-string-data">Text (String) Data</h3>
<p>To get up and running with Python, it is useful to understand the different ways which data can be stored. Python can hold a number of different types of objects in its working memory, and it is important that Python understands what type of information we are passing or storing. Among other things, Python allows for information to be stored as characters, numeric values, arrays, data frames and lists. Different types of data allow different types of operations, and should be stored in different ways. Characters are perhaps the conceptually simplest type of data, and Python has excellent text processing libraries. Characters are simply strings of text, and should be specified between <code>" "</code>, or <code>' '</code>. We have seen the use of characters when printing “Hello world” previously. If characters are not indicated between quotes, Python will understand that they refer to variable names. For example, returning to <em>Hello World</em>, if this is entered without quotes, an error will appear:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>Hello World</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>SyntaxError: invalid syntax</code></pre>
<p>In practice, what has actually occurred here is that, because we did not tell it otherwise, Python assumes that Hello is a variable name, but this must be followed by some valid assignment. For example, had we written <code>Hello = "world"</code> this would have been perfectly fine (though probably not what we were trying to do)! Alternatively, if we do actually want to write this as characters, we can do so simply by enclosing the text in double or single quotes:</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">"Hello World"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>'Hello World'</code></pre>
</div>
</div>
<p>We can confirm that this is effectively understood to be character data by using the <code>type()</code> function. This function indicates the type of data of the argument it receives, as we can see below. Note also that if we generate some variable using the assignment operators discussed above, <code>type()</code> will return to us the type of data that the variable contains:</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(<span class="st">"Hello World"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>str</code></pre>
</div>
</div>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>my_string <span class="op">=</span> <span class="st">"Hello World"</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(my_string)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>str</code></pre>
</div>
</div>
<p>In both cases <code>Python</code> correctly informs us that we are working with string (text) data, printing <code>str</code>.</p>
</section>
<section id="numeric-data" class="level3">
<h3 class="anchored" data-anchor-id="numeric-data">Numeric Data</h3>
<p>Numeric data is entered without any special behaviour, simply entering the number in the case of scalar values. Indeed, if numeric data is accidentally enclosed between quotes, it will be treated as character, and <em>not</em> numeric data. For example, below we assign two variables based on the number <code>2</code> and confirm that one is numeric while the other is viewed as a character.</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>num1 <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>num2 <span class="op">=</span> <span class="st">"2"</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(num1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>int</code></pre>
</div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(num2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>str</code></pre>
</div>
</div>
<p>If you try to perform numerical operations based on the above variables (more on this below), you will see that <code>num1</code> can be involved in such calculations, while <code>num2</code> generally cannot.</p>
</section>
<section id="tuples-lists-and-arrays" class="level3">
<h3 class="anchored" data-anchor-id="tuples-lists-and-arrays">Tuples, Lists and Arrays</h3>
<p>Typically, we will be dealing with more than a single number in our work, and for this reason need ways to collect groups of numbers. Tuples and lists (or arrays) provide some ways to do this.</p>
<p>To create a list of numbers, we simply need to enclose a group of values within square parentheses, separating the numbers by commas. For example, to create a list with two values:</p>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>my_list <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">2</span>]</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(my_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>list</code></pre>
</div>
</div>
<p>This is required to group numbers. If we simply write a series of numbers without separating them by commas, an error will occur:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span> <span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre><code>SyntaxError: invalid syntax. Perhaps you forgot a comma?</code></pre>
<p>though the error message has helpfully pointed us to the source of our error. Similarly, if we forget the comma <em>and</em> fail to wrap our numbers if <code>[ ]</code>, we will once again generate an error.</p>
<p>However, we <em>can</em> generate an alternative way to store numbers without the square brackets if we separate numbers by commas. This will generate a tuple, as we can see below:</p>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>my_tuple <span class="op">=</span> <span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(my_tuple)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>tuple</code></pre>
</div>
</div>
<p>As this data types just combine elements they allow to combine different data types. For example:</p>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>([<span class="dv">1</span>,<span class="st">"Hello"</span>])</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>my_tuple <span class="op">=</span> <span class="dv">1</span>, <span class="st">'Hello'</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(my_tuple)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>tuple</code></pre>
</div>
</div>
<p>In order to create arrays with a matrix-like form, we can list lists, which allows us to get objects in two dimensiones: rows and columns. To see this, we will generate a matrix below, and then print it out to the left of the string “Matrix =”:</p>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>matrix <span class="op">=</span> [[<span class="dv">1</span>,<span class="dv">2</span>],[<span class="dv">3</span>,<span class="dv">4</span>]]</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Matrix ="</span>, matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Matrix = [[1, 2], [3, 4]]</code></pre>
</div>
</div>
<p>While this allows us to view data in a matrix-like form, we would likely not want to start here if we actually want to do matrix-based calculations. Indeed, there are a range of extended functionalities to Python which we can access by installing external packages and libraries. We will hold off our discussion of the installation of packages until a little bit later in this section, but in the interests of completion would just note that there is a package known as <code>NumPy</code> which allows for more convenient matrix processing and numerical operations. <em>Provided</em> that you have this package installed, you can generate a numpy array as follows, noting that we will discuss the installation of packages and the idea behind <code>import</code> slightly later in this document.</p>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>numpy.array([[<span class="dv">1</span>,<span class="dv">2</span>],[<span class="dv">3</span>,<span class="dv">4</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>array([[1, 2],
       [3, 4]])</code></pre>
</div>
</div>
<p>Unlike in lists, tuples, and so forth, numpy’s interest in systematic processing of elements means that it <em>will</em> force the data into a uniform type, in particular coercing the array to the most restrictive data type, as you can see below, where the list <code>[1,2]</code> has been coerced to <code>['1', '2']</code>:</p>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>numpy.array([[<span class="dv">1</span>,<span class="dv">2</span>],[<span class="st">"Hello"</span>, <span class="st">"World"</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>array([['1', '2'],
       ['Hello', 'World']], dtype='&lt;U11')</code></pre>
</div>
</div>
<p>We will return to discuss numpy at more length below.</p>
</section>
<section id="dictionaries" class="level3">
<h3 class="anchored" data-anchor-id="dictionaries">Dictionaries</h3>
<p>Dictionaries are similar to lists, however values can be assigned to a particular key. As we will see shortly, in certain circumstances this may be preferable in terms of providing control over elements within the dictionary.</p>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>my_dictionary <span class="op">=</span> {<span class="st">'First'</span>: [<span class="dv">1</span>,<span class="dv">2</span>], <span class="st">'Second'</span>:[<span class="dv">3</span>,<span class="dv">4</span>]}</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>my_dictionary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>{'First': [1, 2], 'Second': [3, 4]}</code></pre>
</div>
</div>
</section>
<section id="data-frames" class="level3">
<h3 class="anchored" data-anchor-id="data-frames">Data frames</h3>
<p>Likely the type of object which we will be working with the most in our analysis in <code>Python</code> are data frames. Data frames allow us to mix mutliple other types of data, viewing the collection of variables and observations as a database with multiple rows and columns. Within data frames, we can easily subset to certain rows (observations), columns (variables), and conduct univariate and multivariate analysis. It will likely be the starting point for much of your work when you import a standard dataset into <code>Python</code>. Similarly to the case of numpy arrays, data frames in Python are handled by an external library known as Pandas, and again, we will discuss the installation of libraries properly below.</p>
<p>However, to see way that a data frame can be used in Python, <em>if</em> you have Pandas installed on your computed you can generate a data frame as follows:</p>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pandas.DataFrame({<span class="st">'Col1'</span>: [<span class="dv">1</span>, <span class="dv">2</span>], <span class="st">'Col2'</span>: [<span class="st">"Hello"</span>, <span class="st">"World"</span>],<span class="st">'Col3'</span>: [<span class="dv">3</span>, <span class="st">"String"</span>]})</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Col1</th>
      <th>Col2</th>
      <th>Col3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Hello</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>World</td>
      <td>String</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>You may notice that all we have done to generate this data frame has been to enclose a dictionary inside of the command <code>pandas.DataFrame()</code>. As is the case with numpy arrays, given that Pandas seeks consistency within columns of data, all types of data in a single column will be coerced to the most restrictive type. In the case of <code>df</code> above, the third column (<code>Col3</code>) will be stored as a string. If you would like to work with Pandas immediately, you may wish to jump ahead to the section where we discuss the Installation of libraries, and then return here.</p>
</section>
</section>
<section id="subsetting-multidimensional-elements" class="level2">
<h2 class="anchored" data-anchor-id="subsetting-multidimensional-elements">Subsetting Multidimensional Elements</h2>
<p>As we saw in data frames and lists, often we will work with objects that store multiple elements. Sometimes we may want to work with a subset of this multidimensional data instead the entire object. In the case of lists you can easily gain access to any specific value by using the list’s name followed by square parentheses and the location of the item(s) you wish to extract:</p>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>my_list[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>1</code></pre>
</div>
</div>
<p>A particularity of Python is that it uses zero-based indexing, so element [0] refers to the first item in a list, while the last item in a list will be element N-1. However, items can also be accessed by referring to their position with regards to the end of the list. For example, specifying [-1] will return the final item in the list:</p>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>my_list[<span class="op">-</span><span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>2</code></pre>
</div>
</div>
<p>If you wish to access more than one object you can use the slice operator which consists of a colon <code>:</code> between <code>[ ]</code> in the format of <code>[StartIndex : EndIndex]</code>. As an example we will replace <code>my_list</code> with a longer list and access from the first to the second element.</p>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>my_list <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>]</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>my_list[<span class="dv">0</span>:<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>[1, 2]</code></pre>
</div>
</div>
<p>You will likely have notede here that the <code>EndIndex</code> was 2, which in Python points to the third element of the list. But as we can see, the third element wasn’t included in the output, and this is because Python returns elements <em>up until</em> <code>EndIndex</code> but not including <code>EndIndex</code>. Similarly, with the slide operator we can also use positions relative to the end of the list, provided that <code>EndIndex</code> is greater than <code>StartIndex</code>.</p>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>my_list[<span class="dv">2</span>:<span class="op">-</span><span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>[3, 4, 5]</code></pre>
</div>
</div>
<p>In the case of the <code>Pandas</code> data frames that we have discussed, there are a number of ways that we can access data: either referring to column names, or referring to the order of columns, along with the row numbers that we wish to access. If we wish to access columns based on their names, we can use the <code>loc</code> method, while if we wish to access columns based on their column number, we can use the <code>iloc</code> method. Previously we have generated a data frame which we named <code>df</code>:</p>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Col1</th>
      <th>Col2</th>
      <th>Col3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Hello</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>World</td>
      <td>String</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>If we wish to access data through column names (also known as column index) we use the syntax: <code>DataFrameName.loc[RowIndex, ColIndex]</code>. In the data frame <code>df</code>, our column index is: <em>Col1, Col2</em> and <em>Col3</em> while the row index is <em>0</em> and <em>1</em>. This, in order to access the “World” element we can simply write:</p>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="dv">1</span>, <span class="st">'Col2'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<pre><code>'World'</code></pre>
</div>
</div>
<p>Alternatively, the <code>iloc</code> method works similarly, however accesses rows through their numeric index, which as standard begins at <em>0</em>, and goes up from their. So, to do the equivalent of the above using <code>iloc</code> we can simply write the following.</p>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>df.iloc[<span class="dv">1</span>,<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<pre><code>'World'</code></pre>
</div>
</div>
<p>In this case, because the rows are named numerically, the <code>RowIndex</code> value is 1 in both examples. Frequently our data frames will have rows named numerically, and so this is quite standard. If however we want to name our rows differently, we can do this by using <code>df.index</code> as below:</p>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>df.index<span class="op">=</span>[<span class="st">'a'</span>,<span class="st">'b'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, if we attempt to use the previous <code>loc</code> call where <em>1</em> was a valid row index, we will see that this now results in an error, and we instead need to use the correct row index.</p>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="dv">1</span>, <span class="st">"Col2"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>KeyError: 1</code></pre>
</div>
</div>
<pre><code>SyntaxError: invalid syntax</code></pre>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="st">"b"</span>, <span class="st">"Col2"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<pre><code>'World'</code></pre>
</div>
</div>
<p>Similarly, if we accidentally mix up our notation and try to use column naming in <code>iloc</code>, things will not work as we hope:</p>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>df.iloc[<span class="dv">1</span>, <span class="st">"Col2"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>ValueError: Location based indexing can only have [integer, integer slice (START point is INCLUDED, END point is EXCLUDED), listlike of integers, boolean array] types</code></pre>
</div>
</div>
<pre><code>ValueError: Location based indexing can only have [integer, integer slice (START point is INCLUDED, END point is EXCLUDED), listlike of integers, boolean array] types</code></pre>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="dv">1</span>, <span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>KeyError: 1</code></pre>
</div>
</div>
<pre><code>KeyError: 1</code></pre>
<p>As we saw previously with lists, we can use the slice operator to access ranges of cells:</p>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>df.iloc[<span class="dv">0</span>:<span class="dv">2</span>, <span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<pre><code>a         3
b    String
Name: Col3, dtype: object</code></pre>
</div>
</div>
<p>In case we wish to acess an entire row, we can do this by using the slice operator with no values, which defaults to accessing the entire row:</p>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>df.iloc[<span class="dv">1</span>,:]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<pre><code>Col1         2
Col2     World
Col3    String
Name: b, dtype: object</code></pre>
</div>
</div>
<p>This can similarly be used with <code>loc</code>:</p>
<div class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>df.loc[<span class="st">"a"</span>,:]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<pre><code>Col1        1
Col2    Hello
Col3        3
Name: a, dtype: object</code></pre>
</div>
</div>
</section>
<section id="basic-operations" class="level2">
<h2 class="anchored" data-anchor-id="basic-operations">Basic Operations</h2>
<p>The standard mathematical operations in <code>Python</code> likely work how you would expect. Basic mathematical operations are as follows, with an example of their use below:</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: center;">Symbol</th>
<th style="text-align: center;">Operation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>+</code></td>
<td style="text-align: center;">Addition</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>-</code></td>
<td style="text-align: center;">Subtraction</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>*</code></td>
<td style="text-align: center;">Multiplication</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>/</code></td>
<td style="text-align: center;">Division</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>**</code></td>
<td style="text-align: center;">Power</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>%</code></td>
<td style="text-align: center;">Modulus</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>//</code></td>
<td style="text-align: center;">Integer Division</td>
</tr>
</tbody>
</table>
<p>A few examples</p>
<div class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="op">+</span> <span class="dv">3</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="op">-</span> <span class="dv">3</span></span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="op">*</span> <span class="dv">3</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="op">/</span> <span class="dv">3</span></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="op">**</span> <span class="dv">3</span></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="op">%</span> <span class="dv">3</span></span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> <span class="op">//</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>3</code></pre>
</div>
</div>
<p>Two important things to note are that the power symbol is <em>not</em> ^, but rather <code>**</code>, and that integer division simply returns the integer, discarding any remainder.<br>
Also note that when you combine different operators Python follows the PEMDAS order, first resolving Parentheses, second solve Exponents, third Multiplication and Division, fourth Addition and Substraction. Both multiplication and division, and addition and substraction are evaluated left to right, rather than sequentially by operation, so it is important to indicate to <code>Python</code> explicitly what you need using parentheses in certain cases. For example in order to solve <span class="math display">\[-\frac{5 + 3^{5-3}}{5\times 3}\]</span> You should use the code</p>
<div class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="op">-</span>(<span class="dv">5</span><span class="op">+</span><span class="dv">3</span><span class="op">**</span>(<span class="dv">5</span><span class="op">-</span><span class="dv">3</span>))<span class="op">/</span>(<span class="dv">5</span><span class="op">*</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>-0.9333333333333333</code></pre>
</div>
</div>
<p>Python also has logical operatos that returns a boolean value (<code>True</code> or <code>False</code>) pointing if a statement is true or false. These operators are:</p>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: center;">Symbol</th>
<th style="text-align: center;">Comparison</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>==</code></td>
<td style="text-align: center;">Equals</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>!=</code></td>
<td style="text-align: center;">Difference</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>&gt;</code></td>
<td style="text-align: center;">Greater</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>&gt;=</code></td>
<td style="text-align: center;">Greater or Equal</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>&lt;</code></td>
<td style="text-align: center;">Less than</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>&lt;=</code></td>
<td style="text-align: center;">Less than or Equal</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>|</code> or <code>or</code></td>
<td style="text-align: center;">Or</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>&amp;</code> or <code>and</code></td>
<td style="text-align: center;">And</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>not</code></td>
<td style="text-align: center;">Negation</td>
</tr>
</tbody>
</table>
<p>A few examples</p>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="op">==</span> <span class="dv">3</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="op">!=</span> <span class="dv">3</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="op">&gt;</span> <span class="dv">3</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="op">&gt;=</span> <span class="dv">3</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="op">&lt;</span> <span class="dv">3</span></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="op">&lt;=</span> <span class="dv">3</span></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="kw">in</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>]</span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a><span class="va">True</span> <span class="op">|</span> <span class="va">False</span></span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a><span class="va">True</span> <span class="kw">or</span> <span class="va">False</span></span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a><span class="va">True</span> <span class="op">&amp;</span> <span class="va">False</span></span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a><span class="va">True</span> <span class="kw">and</span> <span class="va">False</span></span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a><span class="kw">not</span>(<span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<pre><code>False</code></pre>
</div>
</div>
<p>These boolean values are interpreted by Python as the numbers 0 for <code>False</code> and 1 for <code>True</code>, a characteristic which allows you to work with them numerically and is useful when you want to check a series of conditions.</p>
</section>
<section id="functions" class="level2">
<h2 class="anchored" data-anchor-id="functions">Functions</h2>
<p>Beyond these logical and mathematical operators, <code>Python</code> comes with a basic suite of built in functions which perform specific tasks, as well as a large number of other functions (discussed below) which can be imported, or installed and imported, to extend this basic functionality. Every time you open Python, a range of built in functions are always available (listed <a href="https://docs.python.org/3/library/functions.html">here</a>).</p>
<p>Functions are designed to perform specific tasks, potentially accepting input (known as “arguments”), and returning output which you can interact with. We have already seen a number of functions above such as <code>print()</code>, <code>sum()</code> and <code>type()</code>, all of which we have used with arguments. Arguments are simply the contents we provide the function inside the parentheses. Understanding how packages work, including the arguments they accept and the objects they return is key. This can be found by consulting the help file by typing <code>help(function_name)</code>. For example, if we type <code>help(abs)</code> we will see that the function accepts an argument “x”, and “Return the absolute value of the argument”. We can explore this to confirm that this is what happens with a simple example:</p>
<div class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="bu">abs</span>(<span class="op">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<pre><code>1</code></pre>
</div>
</div>
</section>
<section id="managing-modules" class="level2">
<h2 class="anchored" data-anchor-id="managing-modules">Managing modules</h2>
<p>While not available “out of the box”, an enormous range of functions can be imported into Python by loading Modules or libraries. Modules are a set of predefined objects and functions that can be imported and used in Python to extend functionality in many directions. This modules can themselves contain various levels of submodules which contain individual functions, and in general the syntax to access functions within a module is <code>module.function</code>, or if there are submodules <code>module.submodule.function</code>.</p>
<p>There are a large number of modules which are available with a standard installation of Python. If you would like to see a list of <em>all</em> the modules available – which will likely be large – you can see this is in Python by typing:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="bu">help</span>(<span class="st">"modules"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To access the functions contained in a particular module we must import this into Python every time that we run Python. This process of importing a function uses the <code>import</code> command, and should generally be done at the top of any script we write. So, for example, if we wish to access functions from within the <code>os</code> module, we can do this by typing:</p>
<div class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And similarly, if we’d like to be able to access functions from the math module we can do this as:</p>
<div class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can then use function which are available within these modules provided that we prepend the module name. Thus, for example, from <code>math</code>:</p>
<div class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>math.log(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>1.6094379124341003</code></pre>
</div>
</div>
<p>and</p>
<div class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>math.pi</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="47">
<pre><code>3.141592653589793</code></pre>
</div>
</div>
<p>are quite self-explanatory, while from <code>os</code> we can find a large arrange of tools to interact with our operating system, for example the <code>getcwd</code> function if we would like to see the directory where we are currently working or the <code>chdir</code> function to change to a new working directory:</p>
<div class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>os.getcwd()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<pre><code>'C:\\Users\\Usuario\\Desktop\\Prim_2023\\Ayudantias\\Investigación\\Clarke_MicroeconometriaCausalidad\\Ejemplo_QuartoBook'</code></pre>
</div>
</div>
<p>However, at times we may wish to install modules which are not available in our standard installation. A range of additional packages are available via <code>pip</code>, which is the package installer for Python (hence pip). Two packages which we referred to previously were <code>NumPy</code> and <code>Pandas</code>. Both of these packages will be fundamental for our work, and can be installed from pip using the command <code>pip install packagename</code>. For example, to install Pandas we can type:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>pip install pandas</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now that the module is installed you will not need to install it again unless you want to update the module. However, as above we will need to import the package every time we wish to use it using import. While this can be done as previously:</p>
<div class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In practice we can assign the package an alias which makes it easier to use later. It is standard usage to instead load pandas as follows, where by writing <code>as pd</code> means that we now refer to the package as <code>pd</code> rather than Python:</p>
<div class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(df)</span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="50">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Col1</th>
      <th>Col2</th>
      <th>Col3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <td>1</td>
      <td>Hello</td>
      <td>3</td>
    </tr>
    <tr>
      <th>b</th>
      <td>2</td>
      <td>World</td>
      <td>String</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Similarly, it is standard to load numpy as:</p>
<div class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Implying that we can refer to any numpy functions as simply <code>np.function_name()</code>. If there are specific functions that will be particulary commonly used, we can import these directly, and then they can be used without first typing the package name. For example, if we want to simplify access to <code>numpy</code>’s <code>sqrt</code> function to take square roots, we can do this as below:</p>
<div class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> numpy <span class="im">import</span> sqrt</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>sqrt(<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="52">
<pre><code>2.0</code></pre>
</div>
</div>
<p>What’s more, if for some reason we wish to provide alternative names for specific functions, we can do this once again with <code>as</code>:</p>
<div class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> numpy <span class="im">import</span> sqrt <span class="im">as</span> squareroot</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>squareroot(<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="53">
<pre><code>2.0</code></pre>
</div>
</div>
</section>
</section>
<section id="working-with-data" class="level1">
<h1>Working with Data</h1>
<section id="loading-and-viewing-data" class="level2">
<h2 class="anchored" data-anchor-id="loading-and-viewing-data">Loading and viewing data</h2>
<p>In most – if not all – of our research projects, we will not actually type in data to <code>Python</code> by hand which is a cumbersome and highly error-prone activity, but rather we will wish to read in data which we have stored on our disk in one or a number of files. Such data may be stored in many formats; among others this may be free formats such as <code>csv</code> or <code>txt</code>, or even proprietry formats such as <code>excel</code> or <code>dta</code>. We will generally do this using functions which are a part of <code>Python</code> which has the added benefit of importing our data as an easy to use data frame.</p>
<p>For data stored as <code>csv</code> (comma seperated values) or <code>txt</code> formats <code>Panda</code> comes with the functions <code>read_csv</code>, and <code>read_table</code>. If you consult the help documentation, which is something I would recommend anytime you come across a new function, you will see that these functions provide a large number of options to control how data is read into <code>Python</code>. If we would like to import a standard comma separated value (csv) file, the basic usage is</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>pd.read_csv(<span class="st">"Path/To/Your/File.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>For <code>txt</code> data, or in fact any type of delimited data, a useful function is <code>read_table</code>:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>pd.read_table(<span class="st">"Path/To/Your/File.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you explore the help documentation you will notice that you can specify a variety of arguments such as indicating which character is used to indicate column breaks, whether a header is included, and so forth.</p>
<p>While the options vary, a standardised syntax is also available for <code>excel</code> files such as those ending in .xls or .xlsx:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>pd.read_excel(<span class="st">"Path/To/Your/File.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If you refer to the help documentation you will see that there are a variety of arguments which allows you to point to a specific sheet you wish to import, a specific range of columns or rows, whether or not to use the first row as column names, etc.</p>
<p>Finally in order to import <code>dta</code> the function is <code>read_stata</code></p>
<div class="sourceCode" id="cb114"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>pd.read_stata(<span class="st">"Path/To/Your/File.dta"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The examples so far have been to illustrate basic syntax, though imported data has not been stored in any particular object for later manipulation. In general we will of course want to go on to <em>use</em> the data we load, which is why we loaded it in the first place. This can be done in the same way as any other assignment in <code>Python</code>. Below we will import a particular dataset which is available as part of the wooldridge library, to have some data to work with below. This library is available for download from pip if you do not have access on your system. And contains 115 data sets from Wooldridge’s undergraduate Econometrics Textbook (“Introductory Econometrics: A Modern Approach”, 7th Edition by Jeffrey Wooldridge):</p>
<div class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> wooldridge</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>mroz <span class="op">=</span> wooldridge.data(<span class="st">'mroz'</span>)</span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>mroz</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="54">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>inlf</th>
      <th>hours</th>
      <th>kidslt6</th>
      <th>kidsge6</th>
      <th>age</th>
      <th>educ</th>
      <th>wage</th>
      <th>repwage</th>
      <th>hushrs</th>
      <th>husage</th>
      <th>...</th>
      <th>faminc</th>
      <th>mtr</th>
      <th>motheduc</th>
      <th>fatheduc</th>
      <th>unem</th>
      <th>city</th>
      <th>exper</th>
      <th>nwifeinc</th>
      <th>lwage</th>
      <th>expersq</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1610</td>
      <td>1</td>
      <td>0</td>
      <td>32</td>
      <td>12</td>
      <td>3.3540</td>
      <td>2.65</td>
      <td>2708</td>
      <td>34</td>
      <td>...</td>
      <td>16310.0</td>
      <td>0.7215</td>
      <td>12</td>
      <td>7</td>
      <td>5.0</td>
      <td>0</td>
      <td>14</td>
      <td>10.910060</td>
      <td>1.210154</td>
      <td>196</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1656</td>
      <td>0</td>
      <td>2</td>
      <td>30</td>
      <td>12</td>
      <td>1.3889</td>
      <td>2.65</td>
      <td>2310</td>
      <td>30</td>
      <td>...</td>
      <td>21800.0</td>
      <td>0.6615</td>
      <td>7</td>
      <td>7</td>
      <td>11.0</td>
      <td>1</td>
      <td>5</td>
      <td>19.499981</td>
      <td>0.328512</td>
      <td>25</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>1980</td>
      <td>1</td>
      <td>3</td>
      <td>35</td>
      <td>12</td>
      <td>4.5455</td>
      <td>4.04</td>
      <td>3072</td>
      <td>40</td>
      <td>...</td>
      <td>21040.0</td>
      <td>0.6915</td>
      <td>12</td>
      <td>7</td>
      <td>5.0</td>
      <td>0</td>
      <td>15</td>
      <td>12.039910</td>
      <td>1.514138</td>
      <td>225</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>456</td>
      <td>0</td>
      <td>3</td>
      <td>34</td>
      <td>12</td>
      <td>1.0965</td>
      <td>3.25</td>
      <td>1920</td>
      <td>53</td>
      <td>...</td>
      <td>7300.0</td>
      <td>0.7815</td>
      <td>7</td>
      <td>7</td>
      <td>5.0</td>
      <td>0</td>
      <td>6</td>
      <td>6.799996</td>
      <td>0.092123</td>
      <td>36</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>1568</td>
      <td>1</td>
      <td>2</td>
      <td>31</td>
      <td>14</td>
      <td>4.5918</td>
      <td>3.60</td>
      <td>2000</td>
      <td>32</td>
      <td>...</td>
      <td>27300.0</td>
      <td>0.6215</td>
      <td>12</td>
      <td>14</td>
      <td>9.5</td>
      <td>1</td>
      <td>7</td>
      <td>20.100058</td>
      <td>1.524272</td>
      <td>49</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>748</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>40</td>
      <td>13</td>
      <td>NaN</td>
      <td>0.00</td>
      <td>3020</td>
      <td>43</td>
      <td>...</td>
      <td>28200.0</td>
      <td>0.6215</td>
      <td>10</td>
      <td>10</td>
      <td>9.5</td>
      <td>1</td>
      <td>5</td>
      <td>28.200001</td>
      <td>NaN</td>
      <td>25</td>
    </tr>
    <tr>
      <th>749</th>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>3</td>
      <td>31</td>
      <td>12</td>
      <td>NaN</td>
      <td>0.00</td>
      <td>2056</td>
      <td>33</td>
      <td>...</td>
      <td>10000.0</td>
      <td>0.7715</td>
      <td>12</td>
      <td>12</td>
      <td>7.5</td>
      <td>0</td>
      <td>14</td>
      <td>10.000000</td>
      <td>NaN</td>
      <td>196</td>
    </tr>
    <tr>
      <th>750</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>43</td>
      <td>12</td>
      <td>NaN</td>
      <td>0.00</td>
      <td>2383</td>
      <td>43</td>
      <td>...</td>
      <td>9952.0</td>
      <td>0.7515</td>
      <td>10</td>
      <td>3</td>
      <td>7.5</td>
      <td>0</td>
      <td>4</td>
      <td>9.952000</td>
      <td>NaN</td>
      <td>16</td>
    </tr>
    <tr>
      <th>751</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>60</td>
      <td>12</td>
      <td>NaN</td>
      <td>0.00</td>
      <td>1705</td>
      <td>55</td>
      <td>...</td>
      <td>24984.0</td>
      <td>0.6215</td>
      <td>12</td>
      <td>12</td>
      <td>14.0</td>
      <td>1</td>
      <td>15</td>
      <td>24.983999</td>
      <td>NaN</td>
      <td>225</td>
    </tr>
    <tr>
      <th>752</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>39</td>
      <td>9</td>
      <td>NaN</td>
      <td>0.00</td>
      <td>3120</td>
      <td>48</td>
      <td>...</td>
      <td>28363.0</td>
      <td>0.6915</td>
      <td>7</td>
      <td>7</td>
      <td>11.0</td>
      <td>1</td>
      <td>12</td>
      <td>28.363001</td>
      <td>NaN</td>
      <td>144</td>
    </tr>
  </tbody>
</table>
<p>753 rows × 22 columns</p>
</div>
</div>
</div>
<p>This dataset contains the data from T. A. Mroz (1987), “The Sensitivity of and Empirical Model of Married Women’s Hours of Work to Economic and Statistical Assumptions”, Econometrica 55, 765-799, and we have stored it as an object called <code>mroz</code>. We can inspect this element to see how the data has been imported:</p>
<div class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(mroz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="55">
<pre><code>pandas.core.frame.DataFrame</code></pre>
</div>
</div>
<p>seeing that, conveniently, it has been stored as a data frame. We can also look at a quick snapshot of the data by using the <code>head()</code> method, which will print just the first few rows of our data:</p>
<div class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>mroz.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="56">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>inlf</th>
      <th>hours</th>
      <th>kidslt6</th>
      <th>kidsge6</th>
      <th>age</th>
      <th>educ</th>
      <th>wage</th>
      <th>repwage</th>
      <th>hushrs</th>
      <th>husage</th>
      <th>...</th>
      <th>faminc</th>
      <th>mtr</th>
      <th>motheduc</th>
      <th>fatheduc</th>
      <th>unem</th>
      <th>city</th>
      <th>exper</th>
      <th>nwifeinc</th>
      <th>lwage</th>
      <th>expersq</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1610</td>
      <td>1</td>
      <td>0</td>
      <td>32</td>
      <td>12</td>
      <td>3.3540</td>
      <td>2.65</td>
      <td>2708</td>
      <td>34</td>
      <td>...</td>
      <td>16310.0</td>
      <td>0.7215</td>
      <td>12</td>
      <td>7</td>
      <td>5.0</td>
      <td>0</td>
      <td>14</td>
      <td>10.910060</td>
      <td>1.210154</td>
      <td>196</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1656</td>
      <td>0</td>
      <td>2</td>
      <td>30</td>
      <td>12</td>
      <td>1.3889</td>
      <td>2.65</td>
      <td>2310</td>
      <td>30</td>
      <td>...</td>
      <td>21800.0</td>
      <td>0.6615</td>
      <td>7</td>
      <td>7</td>
      <td>11.0</td>
      <td>1</td>
      <td>5</td>
      <td>19.499981</td>
      <td>0.328512</td>
      <td>25</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>1980</td>
      <td>1</td>
      <td>3</td>
      <td>35</td>
      <td>12</td>
      <td>4.5455</td>
      <td>4.04</td>
      <td>3072</td>
      <td>40</td>
      <td>...</td>
      <td>21040.0</td>
      <td>0.6915</td>
      <td>12</td>
      <td>7</td>
      <td>5.0</td>
      <td>0</td>
      <td>15</td>
      <td>12.039910</td>
      <td>1.514138</td>
      <td>225</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>456</td>
      <td>0</td>
      <td>3</td>
      <td>34</td>
      <td>12</td>
      <td>1.0965</td>
      <td>3.25</td>
      <td>1920</td>
      <td>53</td>
      <td>...</td>
      <td>7300.0</td>
      <td>0.7815</td>
      <td>7</td>
      <td>7</td>
      <td>5.0</td>
      <td>0</td>
      <td>6</td>
      <td>6.799996</td>
      <td>0.092123</td>
      <td>36</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>1568</td>
      <td>1</td>
      <td>2</td>
      <td>31</td>
      <td>14</td>
      <td>4.5918</td>
      <td>3.60</td>
      <td>2000</td>
      <td>32</td>
      <td>...</td>
      <td>27300.0</td>
      <td>0.6215</td>
      <td>12</td>
      <td>14</td>
      <td>9.5</td>
      <td>1</td>
      <td>7</td>
      <td>20.100058</td>
      <td>1.524272</td>
      <td>49</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 22 columns</p>
</div>
</div>
</div>
<p>Depending on the way that we are working with <code>Python</code>, we may also be able to explore the data more interactively if we have some data viewer available.</p>
</section>
<section id="tidying-data" class="level2">
<h2 class="anchored" data-anchor-id="tidying-data">Tidying data</h2>
<p>Once we have loaded data in <code>Python</code>, we will likely want to manipulate the data in a number of ways. This can include relatively simple things like sub-setting to certain columns or rows (which we have already encountered above), but also more complicated things like aggregating data to a higher level, calculating statistics for one or mutliple variable(s) over other variables, joining together a number of datasets, or “reshaping” data in certain ways. Here we will provide a very brief overview of these procedures, and introduce other things as we need them thoughout the book.</p>
<p>Data manipulation in data frames will largely depend upon <code>Panda</code>’s functions and methods. We have seen examples of methods above, namely <code>loc()</code> and <code>iloc()</code>, and <code>head()</code>. <strong>Methods</strong> are functions which are associated with an object and which can be called from the object, which will work in a specific way depending on the type of object this is. We have seen above that data frames have methods, but methods can also be applied to columns within data frames. As an example, we can consider <code>describe</code> which can be applied to a column of a data frame to generate descriptive statistics:</p>
<div class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>mroz.wage.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">
<pre><code>count    428.000000
mean       4.177682
std        3.310282
min        0.128200
25%        2.262600
50%        3.481900
75%        4.970750
max       25.000000
Name: wage, dtype: float64</code></pre>
</div>
</div>
<p>You will note here that we have used a new way to refer to an entire column of a data frame, namely using its column name. In order to see the range of methods which can be applied to an object you can use the <code>dir()</code> function. For example if you want to know the methods which can be applied to a data frame you can type:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="bu">dir</span>(mroz)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>which will provide you a long list of methods.</p>
<section id="aggregating-data" class="level3">
<h3 class="anchored" data-anchor-id="aggregating-data">Aggregating Data</h3>
<p>To start with some basic data manipulations, we will consider data aggregation. For example, imagine that we wished to turn our individual level data frame we imported as <code>mroz</code> above into some group-level averages. We can do this using as we have seen previously, we have been able to generate summary stats, and if we are interested in particular in the mean, example, we can use the <code>mean()</code> method. Below, we will calculate the mean number of children aged less than six in our data:</p>
<div class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>mroz.kidslt6.mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="58">
<pre><code>0.23771580345285526</code></pre>
</div>
</div>
<p>Indeed, here with summarise we have requested that it provide us with the mean of this variable, but we could just as easily request some other statistic such as <code>std</code>, <code>min</code>, <code>max</code>, <code>median</code>, <code>quantile</code> etc. It is quite simple to concatenate operations to conduct a range of operations. For example, imagine that if instead of wishing to simply know the mean number of children less than 6 in our data, we wanted to know this for women in the labour market and those out of the labour market. We could easily add this distinction using the <code>groupby</code> method. We will also name the resulting data frame <code>meankidslt6</code>:</p>
<div class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>meankidslt6 <span class="op">=</span> mroz.groupby([<span class="st">'inlf'</span>]).kidslt6.mean()</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>meankidslt6</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="59">
<pre><code>inlf
0    0.366154
1    0.140187
Name: kidslt6, dtype: float64</code></pre>
</div>
</div>
<p>This process of data aggregation can be considerably extended depending on what we require, for example working with multiple levels over which to group, generating a larger range of statistics, and so forth.</p>
</section>
<section id="mergingjoining-data" class="level3">
<h3 class="anchored" data-anchor-id="mergingjoining-data">Merging/Joining Data</h3>
<p>We will also, at times, wish to join two (or more) pieces of data together, for example “merging” data frames or tibbles by a column or columns. For example, it may be that we have a survey where each individuals surveyed belongs to a household, where all of the individual-level questions in the data are stored as an individual-level file (along with the individual’s household ID), while the household level measures are stored in another file at the household level. If we wish to work with information on the individual <em>and</em> their household characteristics, we will need to “join”, or “merge” the file using the household ID.</p>
<p>We can see an example of this using the <code>join()</code> method. A simple example is if we would like to take the grouped-level statistics generated previously, and join them back into our original <code>mroz</code> data. What we want to do then, is for each individual who is in the labour force (<code>inlf==1</code>), join the information on the mean number of children under 6 in this group to their row of data, and similarly, for individuals <em>not</em> in the labour force (<code>inlf==0</code>), incorporate the group-level value to their row.</p>
<div class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>mroz_kids_mean <span class="op">=</span> mroz.groupby([<span class="st">'inlf'</span>]).kidslt6.mean()</span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>mroz_mod <span class="op">=</span> mroz.join(mroz_kids_mean, on <span class="op">=</span> [<span class="st">'inlf'</span>], how <span class="op">=</span> <span class="st">'left'</span>, rsuffix <span class="op">=</span> <span class="st">'_Mean'</span>)</span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>mroz_mod.loc[:,[<span class="st">'inlf'</span>, <span class="st">'kidslt6'</span>, <span class="st">'kidslt6_Mean'</span>]].head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="60">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>inlf</th>
      <th>kidslt6</th>
      <th>kidslt6_Mean</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1</td>
      <td>0.140187</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>0</td>
      <td>0.140187</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>1</td>
      <td>0.140187</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>0</td>
      <td>0.140187</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>1</td>
      <td>0.140187</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>mroz_mod.loc[:,[<span class="st">'inlf'</span>, <span class="st">'kidslt6'</span>, <span class="st">'kidslt6_Mean'</span>]].tail()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="61">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>inlf</th>
      <th>kidslt6</th>
      <th>kidslt6_Mean</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>748</th>
      <td>0</td>
      <td>0</td>
      <td>0.366154</td>
    </tr>
    <tr>
      <th>749</th>
      <td>0</td>
      <td>2</td>
      <td>0.366154</td>
    </tr>
    <tr>
      <th>750</th>
      <td>0</td>
      <td>0</td>
      <td>0.366154</td>
    </tr>
    <tr>
      <th>751</th>
      <td>0</td>
      <td>0</td>
      <td>0.366154</td>
    </tr>
    <tr>
      <th>752</th>
      <td>0</td>
      <td>0</td>
      <td>0.366154</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Here we have used the <code>join()</code> method to conduct our merge, and specified <code>how='left'</code>. In this <strong>particular</strong> setting, we could have used any if the various <code>join</code> modes which can be <code>left</code>, <code>right</code>, <code>inner</code> or <code>outer</code>. This is because in this case, all of the levels of “inlf” which are in one set of data are also in the other set of data. In many cases this may not be the case, and we may have observations in one dataset that are not in the other. In this case, we must be careful to indicate whether we wish to keep observations that appear in both sets of data (<code>inner</code>), keep those that only appear in the left-hand side of the command (<code>left</code>), those that only appear in the right-hand side of the command (<code>right</code>), or those appearing in either data set (<code>outer</code>). Note that here when we refer to the left-hand side and the right-hand side, we refer to the data frame indicated before <code>.join(</code> as the left-hand side, and that which appears after as the right-hand side.</p>
<p>While there is some mechanics in setting this up, once we have understood the logic of group by and join it would be exceedingly easy to generalise this, for example if we wished to instead have the aggregates produced by labour market status <em>and</em> the individual’s age (or any other less aggregated level). It would be worth exploring such generalisations in the code above to ensure that you are happy with the way things are working.</p>
</section>
<section id="filtering-data" class="level3">
<h3 class="anchored" data-anchor-id="filtering-data">Filtering Data</h3>
<p>Previously we have discussed how to select particular columns or rows of data, however there are other ways which we can do this. For example, the <code>filter</code> method allows us to filter columns or rows that meet certain condition in their labels. For example selecting columns:</p>
<div class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>mroz.<span class="bu">filter</span>(items <span class="op">=</span> [<span class="st">"kidslt6"</span>, <span class="st">"age"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="62">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>kidslt6</th>
      <th>age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>32</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>30</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>35</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>34</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>31</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>748</th>
      <td>0</td>
      <td>40</td>
    </tr>
    <tr>
      <th>749</th>
      <td>2</td>
      <td>31</td>
    </tr>
    <tr>
      <th>750</th>
      <td>0</td>
      <td>43</td>
    </tr>
    <tr>
      <th>751</th>
      <td>0</td>
      <td>60</td>
    </tr>
    <tr>
      <th>752</th>
      <td>0</td>
      <td>39</td>
    </tr>
  </tbody>
</table>
<p>753 rows × 2 columns</p>
</div>
</div>
</div>
<p>Perhaps more useful, we can also filter on observations values. This is done using logical indexing</p>
<div class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>mroz[mroz.kidslt6 <span class="op">==</span> <span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="63">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>inlf</th>
      <th>hours</th>
      <th>kidslt6</th>
      <th>kidsge6</th>
      <th>age</th>
      <th>educ</th>
      <th>wage</th>
      <th>repwage</th>
      <th>hushrs</th>
      <th>husage</th>
      <th>...</th>
      <th>faminc</th>
      <th>mtr</th>
      <th>motheduc</th>
      <th>fatheduc</th>
      <th>unem</th>
      <th>city</th>
      <th>exper</th>
      <th>nwifeinc</th>
      <th>lwage</th>
      <th>expersq</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>483</th>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>1</td>
      <td>31</td>
      <td>13</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>3600</td>
      <td>36</td>
      <td>...</td>
      <td>73600.0</td>
      <td>0.4415</td>
      <td>12</td>
      <td>16</td>
      <td>11.0</td>
      <td>0</td>
      <td>3</td>
      <td>73.599998</td>
      <td>NaN</td>
      <td>9</td>
    </tr>
    <tr>
      <th>604</th>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>3</td>
      <td>37</td>
      <td>13</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>2419</td>
      <td>39</td>
      <td>...</td>
      <td>13440.0</td>
      <td>0.7715</td>
      <td>7</td>
      <td>0</td>
      <td>5.0</td>
      <td>0</td>
      <td>4</td>
      <td>13.440000</td>
      <td>NaN</td>
      <td>16</td>
    </tr>
    <tr>
      <th>714</th>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>31</td>
      <td>15</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>3000</td>
      <td>34</td>
      <td>...</td>
      <td>51200.0</td>
      <td>0.4415</td>
      <td>7</td>
      <td>10</td>
      <td>7.5</td>
      <td>1</td>
      <td>5</td>
      <td>51.200001</td>
      <td>NaN</td>
      <td>25</td>
    </tr>
  </tbody>
</table>
<p>3 rows × 22 columns</p>
</div>
</div>
</div>
</section>
<section id="generating-variables" class="level3">
<h3 class="anchored" data-anchor-id="generating-variables">Generating variables</h3>
<p>In order to create new columns, Pandas automatically understands that when we include a name that is <em>not</em> a part of the data frame, that we wish to generated a new column of data. For example, in the below we will generate a new variable, which is experience squared:</p>
<div class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>mroz[<span class="st">"exper2"</span>] <span class="op">=</span> mroz.exper<span class="op">**</span><span class="dv">2</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>mroz.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="64">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>inlf</th>
      <th>hours</th>
      <th>kidslt6</th>
      <th>kidsge6</th>
      <th>age</th>
      <th>educ</th>
      <th>wage</th>
      <th>repwage</th>
      <th>hushrs</th>
      <th>husage</th>
      <th>...</th>
      <th>mtr</th>
      <th>motheduc</th>
      <th>fatheduc</th>
      <th>unem</th>
      <th>city</th>
      <th>exper</th>
      <th>nwifeinc</th>
      <th>lwage</th>
      <th>expersq</th>
      <th>exper2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1610</td>
      <td>1</td>
      <td>0</td>
      <td>32</td>
      <td>12</td>
      <td>3.3540</td>
      <td>2.65</td>
      <td>2708</td>
      <td>34</td>
      <td>...</td>
      <td>0.7215</td>
      <td>12</td>
      <td>7</td>
      <td>5.0</td>
      <td>0</td>
      <td>14</td>
      <td>10.910060</td>
      <td>1.210154</td>
      <td>196</td>
      <td>196</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1656</td>
      <td>0</td>
      <td>2</td>
      <td>30</td>
      <td>12</td>
      <td>1.3889</td>
      <td>2.65</td>
      <td>2310</td>
      <td>30</td>
      <td>...</td>
      <td>0.6615</td>
      <td>7</td>
      <td>7</td>
      <td>11.0</td>
      <td>1</td>
      <td>5</td>
      <td>19.499981</td>
      <td>0.328512</td>
      <td>25</td>
      <td>25</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>1980</td>
      <td>1</td>
      <td>3</td>
      <td>35</td>
      <td>12</td>
      <td>4.5455</td>
      <td>4.04</td>
      <td>3072</td>
      <td>40</td>
      <td>...</td>
      <td>0.6915</td>
      <td>12</td>
      <td>7</td>
      <td>5.0</td>
      <td>0</td>
      <td>15</td>
      <td>12.039910</td>
      <td>1.514138</td>
      <td>225</td>
      <td>225</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>456</td>
      <td>0</td>
      <td>3</td>
      <td>34</td>
      <td>12</td>
      <td>1.0965</td>
      <td>3.25</td>
      <td>1920</td>
      <td>53</td>
      <td>...</td>
      <td>0.7815</td>
      <td>7</td>
      <td>7</td>
      <td>5.0</td>
      <td>0</td>
      <td>6</td>
      <td>6.799996</td>
      <td>0.092123</td>
      <td>36</td>
      <td>36</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>1568</td>
      <td>1</td>
      <td>2</td>
      <td>31</td>
      <td>14</td>
      <td>4.5918</td>
      <td>3.60</td>
      <td>2000</td>
      <td>32</td>
      <td>...</td>
      <td>0.6215</td>
      <td>12</td>
      <td>14</td>
      <td>9.5</td>
      <td>1</td>
      <td>7</td>
      <td>20.100058</td>
      <td>1.524272</td>
      <td>49</td>
      <td>49</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 23 columns</p>
</div>
</div>
</div>
<p>If we instead include a variable name which is already present, any existing information will be replaced with the new values we assign.</p>
</section>
<section id="reshaping-data" class="level3">
<h3 class="anchored" data-anchor-id="reshaping-data">Reshaping Data</h3>
<p>Finally the last tool that we introduce for data manipulation is the idea of “reshaping” or transforming data from a wide format to a long format (and <em>vice versa</em>). We refer to data in a <strong>long</strong> format if for each observation we have multiple rows of data, covering different levels of some other variable. For example, a classic example of this would be a panel of data over countries and years. On the other hand, we refer to data as being in a <strong>wide</strong> format if for each observation we have multiple columns (or variables) which cover different levels of some other variable. In certain settings we will wish to work with data in one format, and in other settings we may find it more convenient to work with data in another format. To make this a bit clearer, consider the below data frame:</p>
<div class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>Data <span class="op">=</span> pd.DataFrame({<span class="st">'Zone'</span>: [<span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"B"</span>, <span class="st">"B"</span>], <span class="st">'Year'</span>: [<span class="dv">2020</span>, <span class="dv">2021</span>, <span class="dv">2022</span>, <span class="dv">2020</span>, <span class="dv">2021</span>, <span class="dv">2022</span>], <span class="st">'Sales'</span>: [<span class="dv">90</span>, <span class="dv">100</span>, <span class="dv">115</span>, <span class="dv">82</span>, <span class="dv">98</span>, <span class="dv">106</span>]})</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>Data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="65">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Zone</th>
      <th>Year</th>
      <th>Sales</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>A</td>
      <td>2020</td>
      <td>90</td>
    </tr>
    <tr>
      <th>1</th>
      <td>A</td>
      <td>2021</td>
      <td>100</td>
    </tr>
    <tr>
      <th>2</th>
      <td>A</td>
      <td>2022</td>
      <td>115</td>
    </tr>
    <tr>
      <th>3</th>
      <td>B</td>
      <td>2020</td>
      <td>82</td>
    </tr>
    <tr>
      <th>4</th>
      <td>B</td>
      <td>2021</td>
      <td>98</td>
    </tr>
    <tr>
      <th>5</th>
      <td>B</td>
      <td>2022</td>
      <td>106</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Here we can see that data is in the long format, with multiple observations for one unit (zone in this example) over a number of years. To convert this data to wide format we can use the <code>pivot</code> method, as follows:</p>
<div class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>Data <span class="op">=</span> Data.pivot(index <span class="op">=</span> <span class="st">'Zone'</span>, columns <span class="op">=</span> <span class="st">'Year'</span>, values <span class="op">=</span> <span class="st">'Sales'</span>)</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>Data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="66">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th>Year</th>
      <th>2020</th>
      <th>2021</th>
      <th>2022</th>
    </tr>
    <tr>
      <th>Zone</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>A</th>
      <td>90</td>
      <td>100</td>
      <td>115</td>
    </tr>
    <tr>
      <th>B</th>
      <td>82</td>
      <td>98</td>
      <td>106</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>As you can see now there is now one observation per unit, where each observation has three resulting columns (one for each year). Now, if we wish to return to the long format we can do so with the converse <code>melt</code> function:</p>
<div class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>Data <span class="op">=</span> Data.melt(value_vars<span class="op">=</span>[<span class="dv">2020</span>,<span class="dv">2021</span>,<span class="dv">2022</span>], value_name <span class="op">=</span> <span class="st">'Sales'</span>)</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>Data</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="67">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Year</th>
      <th>Sales</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2020</td>
      <td>90</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2020</td>
      <td>82</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2021</td>
      <td>100</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2021</td>
      <td>98</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2022</td>
      <td>115</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2022</td>
      <td>106</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>In practice, we will generally use these commands with a considerably larger number of units, but the basic principles are the same regardless.</p>
</section>
</section>
</section>
<section id="basic-plots" class="level1">
<h1>Basic Plots</h1>
<p>To end this initial introduction, we will briefly explore the generation of basic plots in <code>Python</code>. In Python one of the most used modules to create plots is <code>pyplot</code> from the <code>matplotlib</code> module. If you have not previously installed this module, you can do so using <code>pip install matplotlib</code>, and then we will import the pyplot submodule as <code>plt</code>.</p>
<div class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib <span class="im">import</span> pyplot <span class="im">as</span> plt </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>pyplot</code> maps pairs of points in the <span class="math inline">\((x,y)\)</span> coordinate axis and places them on a graph. For example, let’s consider a case where <span class="math inline">\(x\)</span> is a sequence of integers between -5 and 5. This can be generated as below:</p>
<div class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.array(<span class="bu">range</span>(<span class="op">-</span><span class="dv">5</span>, <span class="dv">6</span>))</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="69">
<pre><code>array([-5, -4, -3, -2, -1,  0,  1,  2,  3,  4,  5])</code></pre>
</div>
</div>
<p>Now consider the variable <span class="math inline">\(y = x^2\)</span>:</p>
<div class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> x<span class="op">**</span><span class="dv">2</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="70">
<pre><code>array([25, 16,  9,  4,  1,  0,  1,  4,  9, 16, 25])</code></pre>
</div>
</div>
<p>We will store these two objects as a data frame, by creating a dictionary containing <code>x</code> and <code>y</code> (though we could proceed to plot without first storing our data as a data frame):</p>
<div class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>Data <span class="op">=</span> pd.DataFrame({<span class="st">'x'</span>: x, <span class="st">'y'</span>: y})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The relevant function in <code>pyplot</code> is <code>plot</code>, which by default generates a line plot, making reasonable decisions for axes and labelling. Unless you have an IDE which automatically displays your plot in a plot panel, you should use the <code>show</code> method from <code>pyplot</code> to display your plot:</p>
<div class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>plt.plot(Data[<span class="st">'x'</span>], Data[<span class="st">'y'</span>])</span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="03_01_IntroductionPython_files/figure-html/cell-73-output-1.png" width="566" height="411"></p>
</div>
</div>
<p>If you wish to change the default behaviour of <code>plot</code> you can do so with a range of options. For example, in order to change the plot to a scatter plot, we can set the linestyle to <code>""</code> and the markers to points:</p>
<div class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>plt.plot(Data[<span class="st">'x'</span>], Data[<span class="st">'y'</span>], linestyle <span class="op">=</span> <span class="st">""</span>, marker <span class="op">=</span> <span class="st">"."</span>)</span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="03_01_IntroductionPython_files/figure-html/cell-74-output-1.png" width="566" height="411"></p>
</div>
</div>
<p>There are many ways to further customise graphics in <code>Python</code>, and indeed, we will see a range of other plots throughout the remainder of these pages. In general, editing basic plots can be done relatively straight-forwardly, allowing us to build up plots bit by bit. For example, we could use the <code>mroz</code> data we have worked with previously to plot the log(wage) against years of experince:</p>
<div class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>plt.scatter(mroz[<span class="st">'exper'</span>], mroz[<span class="st">'lwage'</span>])</span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"ln(wage)"</span>)</span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Experience"</span>)</span>
<span id="cb142-5"><a href="#cb142-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="03_01_IntroductionPython_files/figure-html/cell-75-output-1.png" width="587" height="429"></p>
</div>
</div>
<p>Another widely-used package to allow for further customisation of graphs in <code>Python</code> is the <code>seaborn</code> library, which can be installed from pip. For example, if we wish to overlay a regression line on the scatter plot above, along with its 95% confidence intervals, we can do so quite easily with <code>seaborns</code> <code>regplot</code> function. To see this, we will first import seaborn, and then finally generate the plot:</p>
<div class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>sns.regplot(data <span class="op">=</span> mroz, x <span class="op">=</span> <span class="st">'exper'</span>, y <span class="op">=</span> <span class="st">'lwage'</span>, color<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"ln(wage)"</span>)</span>
<span id="cb144-5"><a href="#cb144-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Experience"</span>)</span>
<span id="cb144-6"><a href="#cb144-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="03_01_IntroductionPython_files/figure-html/cell-77-output-1.png" width="587" height="429"></p>
</div>
</div>
<p>We will take forward many of the examples laid out on this page in the chapters ahead. For now, this introductory session aims to provide you with a sufficient overview to get up and running in <code>Python</code>, and apply your knowledge to microeconometric methods introduced in the book.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./03_00_FollowingPython.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Following Along with Python</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03_02_Chapter2Python.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-title">Chapter 2</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>